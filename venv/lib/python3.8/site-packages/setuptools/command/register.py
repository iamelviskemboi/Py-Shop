from distutils import log
import distutils.command.register as orig

<<<<<<< HEAD
from setuptools.errors import RemovedCommandError


class register(orig.register):
    """Formerly used to register packages on PyPI."""

    def run(self):
        msg = (
            "The register command has been removed, use twine to upload "
            + "instead (https://pypi.org/p/twine)"
        )

        self.announce("ERROR: " + msg, log.ERROR)

        raise RemovedCommandError(msg)
=======

class register(orig.register):
    __doc__ = orig.register.__doc__

    def run(self):
        try:
            # Make sure that we are using valid current name/version info
            self.run_command('egg_info')
            orig.register.run(self)
        finally:
            self.announce(
                "WARNING: Registering is deprecated, use twine to "
                "upload instead (https://pypi.org/p/twine/)",
                log.WARN
            )
>>>>>>> 87b63e42500ccf882150698abaa3b3cacd3d2d3c
